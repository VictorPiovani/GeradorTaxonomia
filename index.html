<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de TaxOInomia</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100vh;
            background-color: #000;
            color: #FFA500;
            overflow-y: auto;
        }
        .container {
            background: #000;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(255, 165, 0, 0.5);
            text-align: center;
            width: 80%;
            max-width: 800px;
        }
        h1, h3 {
            color: #FFA500;
        }
        label {
            display: block;
            margin-top: 10px;
            color: #FFA500;
        }
        .checkbox-group {
            margin-top: 20px;
            text-align: left;
        }
        .checkbox-group label {
            display: flex;
            align-items: center;
        }
        .checkbox-group input {
            margin-right: 10px;
        }
        input[type="text"], input[type="number"] {
            background: #000;
            color: #FFA500;
            border: 1px solid #FFA500;
            padding: 5px;
            width: calc(100% - 12px); /* Ajusta a largura para não ultrapassar a borda */
        }
        button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #FFA500;
            color: #000;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #e59400;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            background-color: #000;
            border: 1px solid #FFA500;
            border-radius: 4px;
            display: none;
        }
        .sub-category, .tb-group, .qr-group {
            margin-left: 20px;
            text-align: left;
        }
        .loading {
            display: none;
        }
        .ascii-art {
            white-space: pre;
            font-family: monospace;
            color: #FFA500;
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="container">
        
        <div class="ascii-art">
         
            _____              _______________                       _____        
            __  /______ ____  ___  __ \___  _/___________________ ______(_)_____ _
            _  __/  __ `/_  |/_/  / / /__  / __  __ \  __ \_  __ `__ \_  /_  __ `/
            / /_ / /_/ /__>  < / /_/ /__/ /  _  / / / /_/ /  / / / / /  / / /_/ / 
            \__/ \__,_/ /_/|_| \____/ /___/  /_/ /_/\____//_/ /_/ /_//_/  \__,_/  
                                                                      

        </div>
        <label for="campaign-name">Nome da Campanha (NOME_REGUA_COMPLETO):</label>
        <input type="text" id="campaign-name" name="campaign-name" required>

        <label for="keywords">Palavras Chave (PALAVRAS_CHAVE):</label>
        <input type="text" id="keywords" name="keywords" required>

        <label for="additional-info">Informação Complementar (INFO_COMPLEMENTAR):</label>
        <input type="text" id="additional-info" name="additional-info" required>

        <div class="checkbox-group">
            <h3>Selecione as Taxonomias:</h3>
            <label><input type="checkbox" id="TB" name="taxonomia" value="TB" onclick="toggleTBGroup(this)"> Data Extensions (TB)</label>
            <div id="tb-group" class="tb-group" style="display: none;">
                <label for="tb-count">Quantidade de TBs:</label>
                <input type="number" id="tb-count" name="tb-count" min="1" value="1" onchange="generateTBTypes()">
                <div id="tb-types"></div>
            </div>
            <label><input type="checkbox" id="QR" name="taxonomia" value="QR" onclick="toggleQRGroup(this)"> Query (QR)</label>
            <div id="qr-group" class="qr-group" style="display: none;">
                <label for="qr-count">Quantidade de Querys:</label>
                <input type="number" id="qr-count" name="qr-count" min="1" value="1" onchange="generateQRTypes()">
                <div id="qr-types"></div>
            </div>
            <label><input type="checkbox" id="JB" name="taxonomia" value="JB"> Journey Builder (JB)</label>
            <label><input type="checkbox" id="PR" name="taxonomia" value="PR" onclick="toggleSubcategories(this)"> Automation (PR)</label>
            <div id="subcategories" class="sub-category" style="display: none;">
                <label><input type="checkbox" id="IMPORT" name="sub-taxonomia" value="Import"> IMPORT (Import)</label>
                <label><input type="checkbox" id="DE" name="sub-taxonomia" value="DE"> DataExtract (DE)</label>
                <label><input type="checkbox" id="FT" name="sub-taxonomia" value="FT"> FileTransfer (FT)</label>
                <label><input type="checkbox" id="DF" name="sub-taxonomia" value="DF"> DataFilter (DF)</label>
                <label><input type="checkbox" id="Script" name="sub-taxonomia" value="Script"> Script (Script)</label>
            </div>
        </div>

        <button onclick="generateTaxonomy()">Gerar Taxonomia</button>

        <div class="loading" id="loading">
            <p>Gerando taxonomias...</p>
        </div>

        <div id="result" class="result">
            <h3>Taxonomias Geradas:</h3>
            <p id="result-text"></p>
        </div>
    </div>

    <script>
        function toggleTBGroup(checkbox) {
            const tbGroup = document.getElementById('tb-group');
            if (checkbox.checked) {
                tbGroup.style.display = 'block';
                generateTBTypes();
            } else {
                tbGroup.style.display = 'none';
                document.getElementById('tb-types').innerHTML = '';
            }
        }

        function generateTBTypes() {
            const tbCount = document.getElementById('tb-count').value;
            const tbTypesDiv = document.getElementById('tb-types');
            tbTypesDiv.innerHTML = '';

            for (let i = 1; i <= tbCount; i++) {
                const tbDiv = document.createElement('div');
                tbDiv.classList.add('tb-type');
                tbDiv.innerHTML = `
                    <h4>TB ${i}</h4>
                    <label><input type="checkbox" name="tb${i}-type" value="Import"> Import</label>
                    <label><input type="checkbox" name="tb${i}-type" value="Disparo"> Disparo</label>
                    <label><input type="checkbox" name="tb${i}-type" value="Histórico"> Histórico</label>
                `;
                tbTypesDiv.appendChild(tbDiv);
            }
        }

        function toggleQRGroup(checkbox) {
            const qrGroup = document.getElementById('qr-group');
            if (checkbox.checked) {
                qrGroup.style.display = 'block';
                generateQRTypes();
            } else {
                qrGroup.style.display = 'none';
                document.getElementById('qr-types').innerHTML = '';
            }
        }

        function generateQRTypes() {
            const qrCount = document.getElementById('qr-count').value;
            const qrTypesDiv = document.getElementById('qr-types');
            qrTypesDiv.innerHTML = '';

            for (let i = 1; i <= qrCount; i++) {
                const qrDiv = document.createElement('div');
                qrDiv.classList.add('qr-type');
                qrDiv.innerHTML = `
                    <h4>QR ${i}</h4>
                    <label><input type="checkbox" name="qr${i}-type" value="Import"> Import</label>
                    <label><input type="checkbox" name="qr${i}-type" value="Tratamento"> Tratamento</label>
                    <label><input type="checkbox" name="qr${i}-type" value="Segmentação"> Segmentação</label>
                    <label><input type="checkbox" name="qr${i}-type" value="Disparo"> Disparo</label>
                    <label><input type="checkbox" name="qr${i}-type" value="Histórico"> Histórico</label>
                `;
                qrTypesDiv.appendChild(qrDiv);
            }
        }

        function toggleSubcategories(checkbox) {
            const subcategories = document.getElementById('subcategories');
            if (checkbox.checked) {
                subcategories.style.display = 'block';
            } else {
                subcategories.style.display = 'none';
                const subCheckboxes = subcategories.querySelectorAll('input[type="checkbox"]');
                subCheckboxes.forEach((subCheckbox) => {
                    subCheckbox.checked = false;
                });
            }
        }

        function generateTaxonomy() {
            document.getElementById('loading').style.display = 'block';
            const campaignName = document.getElementById('campaign-name').value;
            const keywords = document.getElementById('keywords').value;
            const additionalInfo = document.getElementById('additional-info').value;

            const checkboxes = document.querySelectorAll('input[name="taxonomia"]:checked');
            const subCheckboxes = document.querySelectorAll('input[name="sub-taxonomia"]:checked');

            let selectedTaxonomies = [];

            checkboxes.forEach((checkbox) => {
                if (checkbox.value === 'TB') {
                    const tbCount = document.getElementById('tb-count').value;
                    for (let i = 1; i <= tbCount; i++) {
                        const tbTypes = document.querySelectorAll(`input[name="tb${i}-type"]:checked`);
                        tbTypes.forEach((tbType) => {
                            selectedTaxonomies.push(`TB${i}_${campaignName}_${keywords}_${additionalInfo}_${tbType.value}`);
                        });
                    }
                } else if (checkbox.value === 'QR') {
                    const qrCount = document.getElementById('qr-count').value;
                    for (let i = 1; i <= qrCount; i++) {
                        const qrTypes = document.querySelectorAll(`input[name="qr${i}-type"]:checked`);
                        qrTypes.forEach((qrType) => {
                            selectedTaxonomies.push(`QR${i}_${campaignName}_${keywords}_${additionalInfo}_${qrType.value}`);
                        });
                    }
                } else if (checkbox.value === 'PR' && subCheckboxes.length > 0) {
                    subCheckboxes.forEach((subCheckbox) => {
                        selectedTaxonomies.push(`${checkbox.value}_${campaignName}_${keywords}_${additionalInfo}_${subCheckbox.value}`);
                    });
                } else {
                    selectedTaxonomies.push(`${checkbox.value}_${campaignName}_${keywords}_${additionalInfo}`);
                }
            });

            setTimeout(() => {
                const resultDiv = document.getElementById('result');
                const resultText = document.getElementById('result-text');

                if (selectedTaxonomies.length > 0) {
                    resultText.innerHTML = selectedTaxonomies.join('<br>');
                    resultDiv.style.display = 'block';
                } else {
                    resultText.innerHTML = 'Nenhuma taxonomia selecionada.';
                    resultDiv.style.display = 'block';
                }
                document.getElementById('loading').style.display = 'none';
                window.scrollTo(0, 0); // Rola a página para o topo
            }, 2000); // Simula o efeito de loading por 2 segundos
        }
    </script>
</body>
</html>
